$(document).ready(function(){function e(e){for(var t=unescape(window.location.search.substring(1)),a=t.split("&"),s=0;s<a.length;s++){var i=a[s].split("=");if(i[0]==e)return i[1]}return!1}function t(){e("size")===!1?(baseSize=1.5,$(".base_size").val(24)):(baseSize=e("size")/16,$(".base_size").val(e("size")),$(".param_size").text(e("size"))),$(".base_em").text(Math.round(1e3*baseSize)/1e3)}function s(){e("scale")===!1?scaleRatio=1.5:(scaleRatio=e("scale"),$(".font_scale").val(e("scale")),$(".param_scale").text(e("scale"))),o()}function i(){e("text")!==!1&&($(".preview_text").val(e("text")),$(".scale_preview_text").text(e("text")),$(".param_text").text(e("text")))}function n(){e("font")!==!1&&($(".web_font").val(e("font")),$(".webfont_url").attr("href","http://fonts.googleapis.com/css?family="+e("font")),$(".param_font").text(e("font")))}function l(){e("css")!==!1&&($(".web_font_name").val(e("css")),$(".scale_webfont").attr("style","font-family:"+e("css")),$(".param_css").text(e("css")))}function c(){scaleRatio=$(".font_scale").val(),o()}function o(){function e(){a=baseSize,b=scaleRatio,result=baseSize,$($(".scale_high").get().reverse()).each(function(){$(this).css("font-size",Math.round(1e3*result)/1e3+"em"),result=a*b,a=result})}function t(){a=1,b=scaleRatio,result=1,$($(".scale_high_label").get().reverse()).each(function(){$(this).text(Math.round(1e3*result)/1e3+"em"),result=a*b,a=result})}function s(){a=baseSize,b=scaleRatio,result=baseSize,$(".scale_low").each(function(){result=a/b,a=result,$(this).css("font-size",Math.round(1e3*result)/1e3+"em")})}function i(){a=1,b=scaleRatio,result=1,$(".scale_low_label").each(function(){result=a/b,a=result,$(this).text(Math.round(1e3*result)/1e3+"em")})}e(),t(),s(),i()}viewportHeight=$(window).innerHeight(),$(".stage").css("min-height",viewportHeight),t(),s(),i(),n(),l(),$(".input_select_all").click(function(){$(this).select()}),$(".base_size").bind("change paste keyup",function(){baseSize=$.isNumeric($(this).val())?$(this).val()/16:0,$(".base_em").text(Math.round(1e3*baseSize)/1e3),$(".param_size").text($(this).val()),c()}),$(".font_scale").bind("change paste keyup",function(){c(),$(".param_scale").text($(this).val())}),$(".preview_text").bind("change paste keyup",function(){previewText=$(this).val(),$(".scale_preview_text").text(previewText),$(".param_text").text($(this).val())}),$(".web_font").bind("change paste keyup",function(){$(".webfont_url").attr("href","http://fonts.googleapis.com/css?family="+$(this).val()),$(".param_font").text($(this).val())}),$(".web_font_name").bind("change paste keyup",function(){webFontName=$(this).val(),$(".scale_webfont").attr("style","font-family:"+webFontName),$(".param_css").text($(this).val())})});